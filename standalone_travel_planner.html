<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Travel Planner</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --glass-color: rgba(255, 255, 255, 0.1);
            --glass-border: 1px solid rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, rgba(0,123,255,0.3), rgba(40,167,69,0.3)), 
                        url('https://placehold.co/1920x1080') no-repeat center center fixed;
            background-size: cover;
            padding: 20px;
            min-height: 100vh;
            color: var(--dark-color);
        }

        .container {
            background: var(--glass-color);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--glass-shadow);
            border: var(--glass-border);
            margin-top: 30px;
            margin-bottom: 30px;
        }

        h1, h2, h3 {
            color: var(--dark-color);
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .card {
            background: var(--glass-color);
            backdrop-filter: blur(5px);
            border: var(--glass-border);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: var(--glass-shadow);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }

        .card-header {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            font-weight: 600;
            border-radius: 15px 15px 0 0;
        }

        .btn-primary {
            background: linear-gradient(135deg, #007bff, #0056b3);
            border: none;
            padding: 12px 30px;
            font-size: 1.1rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,123,255,0.3);
        }

        .form-control {
            border-radius: 10px;
            border: 2px solid rgba(0,0,0,0.1);
            padding: 12px 20px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.25);
        }

        .destination-image {
            height: 250px;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .progress {
            height: 20px;
            border-radius: 10px;
            background: rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(135deg, #28a745, #1e7e34);
            transition: width 0.5s ease;
        }

        .animation-fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center mb-4">Budget Travel Planner</h1>
        <div class="row">
            <div class="col-md-6">
                <div class="card mb-4">
                    <div class="card-header">Plan Your Trip</div>
                    <div class="card-body">
                        <form id="travelForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="input-group mb-3">
                                        <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                                        <input type="text" class="form-control" id="fromLocation" placeholder="From Location" required>
                                    </div>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text"><i class="fas fa-map-marker"></i></span>
                                        <input type="text" class="form-control" id="toLocation" placeholder="To Location" required>
                                    </div>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                                        <input type="date" class="form-control" id="startDate" required>
                                    </div>

                                </div>
                                <div class="col-md-6">
                                    <div class="input-group mb-3">
                                        <span class="input-group-text"><i class="fas fa-users"></i></span>
                                        <input type="number" class="form-control" id="numPeople" placeholder="Number of People" min="1" required>
                                    </div>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text"><i class="fas fa-calendar-day"></i></span>
                                        <input type="number" class="form-control" id="numDays" placeholder="Number of Days" min="1" required>
                                    </div>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text"><i class="fas fa-rupee-sign"></i></span>
                                        <input type="number" class="form-control" id="budget" placeholder="Budget (₹)" required>
                                    </div>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text"><i class="fas fa-car"></i></span>
                                        <select class="form-select" id="vehicleType" required>
                                            <option value="">Vehicle Type</option>
                                            <option value="public">Public</option>
                                            <option value="private">Private</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="input-group mb-3">
                                        <span class="input-group-text"><i class="fas fa-utensils"></i></span>
                                        <select class="form-select" id="mealPreference" required>
                                            <option value="">Meal Preference</option>
                                            <option value="vegetarian">Vegetarian</option>
                                            <option value="non-vegetarian">Non-Vegetarian</option>
                                            <option value="vegan">Vegan</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="input-group mb-3">
                                        <span class="input-group-text"><i class="fas fa-suitcase"></i></span>
                                        <select class="form-select" id="tourType" required>
                                            <option value="">Tour Type</option>
                                            <option value="adventure">Adventure</option>
                                            <option value="cultural">Cultural</option>
                                            <option value="historical">Historical</option>
                                            <option value="nature">Nature</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Weather Forecast</label>
                                <div id="weatherInfo" class="text-muted">
                                    Weather information will appear here after selecting a destination
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Plan My Trip</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">Trip Details</div>
                    <div class="card-body">
                        <div id="results" class="text-center">
                            <p class="text-muted">Enter your trip details to see recommendations</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        const OPENAI_API_KEY = 'sk-your-openai-api-key';
        const OPENWEATHER_API_KEY = 'your-openweather-api-key';


        document.querySelectorAll('.card, .form-control, .btn').forEach(el => {
            el.classList.add('animation-fade-in');
        });

        async function getAIRecommendations(prompt) {
            try {
                const response = await axios.post(
                    'https://api.openai.com/v1/chat/completions',
                    {
                        model: "gpt-3.5-turbo",
                        messages: [{role: "user", content: prompt}],
                        temperature: 0.7
                    },
                    {
                        headers: {
                            'Authorization': `Bearer ${OPENAI_API_KEY}`,
                            'Content-Type': 'application/json'
                        }
                    }
                );
                return response.data.choices[0].message.content;
            } catch (error) {
                console.error('Error getting AI recommendations:', error);
                return null;
            }
        }

        async function getWeatherForecast(location, date) {
            try {
                const response = await axios.get(
                    `https://api.openweathermap.org/data/2.5/forecast?q=${location}&appid=${OPENWEATHER_API_KEY}`
                );
                return response.data;
            } catch (error) {
                console.error('Error getting weather forecast:', error);
                return null;
            }
        }

        document.getElementById('travelForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Get form values

            const fromLocation = document.getElementById('fromLocation').value.trim();
            const toLocation = document.getElementById('toLocation').value.trim();
            const startDate = document.getElementById('startDate').value;
            const numDays = parseInt(document.getElementById('numDays').value);
            const budget = parseFloat(document.getElementById('budget').value);

            const numPeople = parseInt(document.getElementById('numPeople').value);
            const vehicleType = document.getElementById('vehicleType').value;
            const mealPreference = document.getElementById('mealPreference').value;
            const tourType = document.getElementById('tourType').value;

            // Validate inputs
            if (!fromLocation || !toLocation || !startDate || isNaN(numDays) || isNaN(budget) || !tourType) {
                alert('Please fill in all fields with valid values');
                return;
            }

            // Show loading state
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<p>Generating AI-powered recommendations...</p>';



            const tourTypes = {
                'adventure': 'Adventure Tours',
                'cultural': 'Cultural Tours',
                'historical': 'Historical Tours',
                'nature': 'Nature Tours'
            };
            
            const tourData = {
                'adventure': [
                    {
                        location: 'Manali',
                        price: 15000,
                        distance: '550 km',
                        allowances: 'Food: ₹1000/day, Travel: ₹1500, Accommodation: ₹2000',
                        itinerary: 'Day 1: Trekking, Day 2: Rafting, Day 3: Camping',
                        rating: '⭐⭐⭐⭐☆ (4.2)',
                        image: 'https://images.app.goo.gl/mCmxucNmsm7W2iCx8'
                    },
                    {
                        location: 'Rishikesh',
                        price: 12000,
                        distance: '250 km',
                        allowances: 'Food: ₹800/day, Travel: ₹1000, Accommodation: ₹1500',
                        itinerary: 'Day 1: Yoga, Day 2: Rafting, Day 3: Camping',
                        rating: '⭐⭐⭐⭐☆ (4.1)',
                        image: 'https://images.app.goo.gl/EWErr1fqnbn5wHTc8'
                    }
                ],
                'cultural': [
                    {
                        location: 'Jaipur',
                        price: 10000,
                        distance: '280 km',
                        allowances: 'Food: ₹700/day, Travel: ₹800, Accommodation: ₹1200',
                        itinerary: 'Day 1: City Palace, Day 2: Local Market, Day 3: Folk Dance',
                        rating: '⭐⭐⭐⭐☆ (4.0)',
                        image: 'https://images.unsplash.com/photo-1593693397690-362cb9666fc2?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'
                    },
                    {
                        location: 'Varanasi',
                        price: 8000,
                        distance: '320 km',
                        allowances: 'Food: ₹600/day, Travel: ₹700, Accommodation: ₹1000',
                        itinerary: 'Day 1: Ganga Aarti, Day 2: Temple Tour, Day 3: Heritage Walk',
                        rating: '⭐⭐⭐⭐☆ (4.2)',
                        image: 'https://images.unsplash.com/photo-1593693397690-362cb9666fc2?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'
                    }
                ]
            };

            // Get results div
            const resultsDiv = document.getElementById('results');


            // Create trip details card
            const tripDetailsCard = document.createElement('div');
            tripDetailsCard.className = 'card mb-4';
            tripDetailsCard.innerHTML = `
                <div class="card-header">Your Trip Details</div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>From:</strong> ${fromLocation}</p>
                            <p><strong>To:</strong> ${toLocation}</p>
                            <p><strong>Start Date:</strong> ${new Date(startDate).toLocaleDateString()}</p>
                        </div>
                        <div class="col-md-6">
                            <p><strong>Duration:</strong> ${numDays} days</p>
                            <p><strong>Budget:</strong> ₹${budget.toLocaleString()}</p>
                            <p><strong>Number of People:</strong> ${numPeople}</p>
                            <p><strong>Vehicle Type:</strong> ${vehicleType === 'public' ? 'Public' : 'Private'}</p>
                            <p><strong>Meal Preference:</strong> ${mealPreference.charAt(0).toUpperCase() + mealPreference.slice(1)}</p>
                            <p><strong>Tour Type:</strong> ${tourTypes[tourType]}</p>
                        </div>
                    </div>
                </div>
            `;
            resultsDiv.appendChild(tripDetailsCard);

            // Generate AI recommendations
            const aiPrompt = `Create a detailed travel plan for ${numPeople} people traveling from ${fromLocation} to ${toLocation} for ${numDays} days with a budget of ₹${budget}. 
                            Preferred meal type: ${mealPreference}, vehicle type: ${vehicleType}, and tour type: ${tourType}. 
                            Include daily activities, estimated costs, and travel tips.`;
            
            let recommendations = 'Error: Unable to generate recommendations. Please check your API keys.';
            let weatherData = null;
            
            try {
                recommendations = await getAIRecommendations(aiPrompt);
                weatherData = await getWeatherForecast(toLocation, startDate);
            } catch (error) {
                console.error('Error:', error);
                resultsDiv.innerHTML = `<p class="text-danger">Error: ${error.message}</p>`;
                return;
            }

            
            // Create AI recommendations section
            const aiCard = document.createElement('div');
            aiCard.className = 'card mb-4';
            aiCard.innerHTML = `
                <div class="card-header">AI-Powered Recommendations</div>
                <div class="card-body">
                    <h5>Travel Plan:</h5>
                    <p>${recommendations}</p>

                    ${weatherData ? `
                        <h5 class="mt-3">Weather Forecast:</h5>
                        <p>${weatherData.list[0].weather[0].description}, Temperature: ${(weatherData.list[0].main.temp - 273.15).toFixed(1)}°C</p>
                    ` : ''}
                </div>
            `;
            resultsDiv.appendChild(aiCard);


            // Create recommended tours section
            const toursHeader = document.createElement('h4');
            toursHeader.className = 'mt-4 mb-3';
            toursHeader.textContent = 'Recommended Tours';
            resultsDiv.appendChild(toursHeader);

            // Add recommended tours
            if (tourData[tourType] && tourData[tourType].length > 0) {
                tourData[tourType].forEach(tour => {
                    const tourCard = document.createElement('div');
                    tourCard.className = 'card mb-3';
                    tourCard.innerHTML = `
                        <div class="row g-0">
                            <div class="col-md-4">
                                <img src="${tour.image}" class="img-fluid rounded-start h-100" alt="${tour.location}">
                            </div>
                            <div class="col-md-8">
                                <div class="card-body">
                                    <h5 class="card-title">${tour.location}</h5>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <p class="card-text"><strong>Price:</strong> ₹${tour.price.toLocaleString()}</p>
                                            <p class="card-text"><strong>Distance:</strong> ${tour.distance}</p>
                                        </div>
                                        <div class="col-md-6">
                                            <p class="card-text"><strong>Rating:</strong> ${tour.rating}</p>
                                            <p class="card-text"><strong>Budget Fit:</strong> ${(budget/tour.price*100).toFixed(0)}%</p>
                                        </div>
                                    </div>
                                    <p class="card-text"><strong>Allowances:</strong> ${tour.allowances}</p>
                                    <p class="card-text"><strong>Itinerary:</strong> ${tour.itinerary}</p>
                                    <button class="btn btn-primary mt-2">Book This Tour</button>
                                </div>
                            </div>
                        </div>
                    `;
                    resultsDiv.appendChild(tourCard);
                });
            } else {
                const noTours = document.createElement('p');
                noTours.className = 'text-muted';
                noTours.textContent = 'No tours available for the selected type';
                resultsDiv.appendChild(noTours);
            }
        });
    </script>
</body>
</html>
